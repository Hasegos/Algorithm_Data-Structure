<!--- 네트워크 성능 분석 명령어 부터 하면됨--->

# 네트워크 기초
* 목차
    * [네트워크란](#네트워크란)
    * [처리량과 지연시간](#처리량과-지연시간)
    * [네트워크 토폴로지와 병목 현상](#네트워크-토폴로지와-병목-현상)
    * [네트워크 분류](#네트워크-분류)
    * [네트워크 성능 분석 명령어](#네트워크-성능-분석-명령어)    
    * [네트워크 프로토콜 표준화](#네트워크-프로토콜-표준화)
   
<!---목차 1--->    
## 네트워크란    
네트워크란 노드(node)와 링크(link)가 서로 연결되어 있으며 리소스를 공유하는 집합을 의미한다.


![068 (2)](https://github.com/Hasegos/Study_CS/assets/93961708/ac73e99d-7760-48bb-916c-4bd0a1c42bbd)
<br>
여기서 노드란 **서버,라우터,스위치 등 네트워크 장치**를 의미하며, 링크는 **유선 또는 무선**을 의미한다.


![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#네트워크-기초)


<!---목차 2--->
## 처리량과 지연시간 

### 처리량

처리량이란 **링크 내에서 성공적으로 전달한 데이터의 양**을 말한다.  
즉, '많은 트래픽을 처리한다. = 많은 처리량을 가진다.' 라는 의미이다.  
또한 처리량은 **트래픽,네트워크 장치 간의 대여폭, 중간에 발생하는 에러, 하드웨어 스펙**에 영향을 받는다.  

![image (1)](https://github.com/Hasegos/Study_CS/assets/93961708/3c8836bd-4ee3-4516-adac-0dbdb4a7b36d)

트래픽은 특정 시점에 링크 내에 **'흐르는'** 데이터의 양을 말한다.  

● 트래픽이 많아졌다. = 흐르는 데이터가 많아졌다.  
● 처리량이 많아졌다. = 처리되는 트래픽이 많아졌다.  
추가) 대여폭이란 **주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수**  

### 지연시간
지연 시간(latency)이란 **요청이 처리되는 시간을 말하며, 어떤 메세지가 두장치 사이 왕복하는 데 걸린 시간**을 말한다.  

![174925223-3b4aceeb-8851-426c-8803-88333800578b (2)](https://github.com/Hasegos/Study_CS/assets/93961708/d84cc653-22ae-4e78-bfe6-8ddf72c126e2)  
  
지연 시간은 매체 타입(무선,유선), 패킷 크기, 라우터의 패킷 처리 시간에 영향을 받는다.    

![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#네트워크-기초)

<!---목차 3--->
## 네트워크 토폴로지와 병목 현상 

### 네트워크 토폴로지

네트워크 토폴로지(network topology)는 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태를 의미한다.  

---
### 트리 토폴로지

트리(tree) 토폴로지는 계층형 토폴로지라고 하며 **트리 형태로 배치한 네트워크 구성** 

![image (1)](https://github.com/Hasegos/Study_CS/assets/93961708/743f869f-dae8-4d84-9193-802baabddcab)

**장점** : 노드의 추가, 삭제가 쉬움    
**단점** : 특정 노드에 트래픽이 집중될때 하위 노드에 영향을 끼침    

---
### 버스 토폴로지

버스(bus) 토폴로지는 **중앙 통신 회선 하나에 여러 개의 노드가 연결되어 공유하는 네트워크 구성**을 말하며 근거리 통신망(LAN)에 사용  

![image (2) (1)](https://github.com/Hasegos/Study_CS/assets/93961708/94396372-b73a-4d4c-a577-92be22a208aa)

**장점** : 설치 비용 감량, 신뢰성 우수, 노드 추가 또는 삭제 쉬움  
**단점** : **스푸핑**이 가능한 문제  

---
### 스푸핑

스푸핑은 LAN상에서 **송신부의 패킷을 송신과 관련없는 다른 호스트에 가지않도록 하는 스위칭 기능을 마비**시키거나  
**속여서 특정 노드에 해당 패킷이 오도록 처리하는 것** 
즉,**패킷을 중간에 가로채는 것을 말한다.**    

![m_369-1 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/49caa9d6-dac3-499d-b555-6c7e0c27997b)

옳바르게 가야하는 패킷을 악의적인 노드로 가게된다.

---
### 스타 토폴로지

스타(star, 성형) 토폴로지는 **중앙에 있는 노드에 모두 연결된 네트워크 구성**을 말한다.

![072_1 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/871fa076-be92-456f-b3a9-c091505ecba3)

**장점** : 노드 추가쉽다, 에러탐지 쉽다, 패킷의 충돌 가능성 ↓ , 중앙노드 제외 에러 발생시 영향이 ↓  
**단점** : 설치비 고가, 중앙 노드가 에러 발생시 전체 네트워크 사용 불가능  

---
### 링형 토폴로지

링형(ring) 토폴로지는 **각각의 노드가 양옆의 두 노드와 연결하여 전체적으로 고리**처럼  
하나의 연속된 길을 통해 통신하는 **망 구성 방식**  

![image (1)](https://github.com/Hasegos/Study_CS/assets/93961708/e8ecc64b-a011-429a-9e55-f4848853e8da)

**장점** : 노드수 증가되어도 네트워크상의 손실 x, 충돌 발생되는 가능성 ↓, 고장 쉽게 발견  
**단점** : 네트워크 구성 변경이 힘들다, 회선에 장애발생시 전체 네트워크에 영향을 끼친다.  

---
### 메시 토폴로지

메시(mesh) 토폴로지는 **망형 토폴로지라고도 하며 그물망처럼 연결되어 있는 구조**이다.

![image (2) (1)](https://github.com/Hasegos/Study_CS/assets/93961708/5bf558e1-02a0-47e3-a7a5-6aab5ba3a6d8)

**장점** : 한 단말장치에 장애 발생해도 여러개의 경로를 통해 네트워크 사용가능, 트래픽 처리도 분산가능  
**단점** : 노드의 추가가 어렵다, 운영 비용과 설치 비용이 고가이다.  

---
### 병목 현상

병목(bottleneck) 현상은 **전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상**을 말한다.  
  

예시) 서비스 사용중 병목 현상이 일어나 지연시간이 길게 발생되고 있다.  
&emsp;&emsp;&nbsp;&nbsp;이로인해 대여폭을 크게 설정했지만 성능이 개선이 안된 상황이다.
    
![image (3) (1)](https://github.com/Hasegos/Study_CS/assets/93961708/316c82fe-d262-4949-b7c1-223b8c2b43ed)

이를 개선하고자 네트워크 포톨로지를 확인하고 서버와 서버간에 이어지는 게이트로 **새로운 회선을 추가**해서 병목현상을 해결했다.  

![image (4) (1)](https://github.com/Hasegos/Study_CS/assets/93961708/028c05b8-9c05-48a7-ab57-ec869edff5b8)

즉, 서비스를 사용시 사용자가 많을수록 트래픽양은 늘어나는데 **트래픽관리 실패하면 지연시간**이 늘어난다.  
간단한 비유로 **병의 몸통보다 병의 목 부분의 지름이 좁아서 물이 상대적으로 천천히 흐르는걸** 생각할 수 있다.    

![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#네트워크-기초)

<!---목차 4--->
## 네트워크 분류

네트워크는 규모를 기반으로 구분할 수 있다.  
**개인으로 소유가능한 정도**는 **LAN(Local Area NetWork)**  
**서울시 등 시 정도의 규모**인 **MAN(Metropoplitan Area NetWork)**  
**서계 규모**인**WAN(Wide Area NetWork)**  

![2 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/894e5823-b73d-4723-9380-da2204a89f5a)  

---

### LAN

LAN은 근거리 통신망을 의미하며, 같은 건물 혹은 캠퍼스같은 **좁은 공간**에서 운영된다.  
**전송 속도가 빠르고 혼잡하지 않다.**  

---

### MAN

MAN은 대도시 지역 네트워크를 나타내며 **도시 같은 넓은 지역**에서 운영된다.  
**접속 속도는 평균이며 LAN보다 혼잡하다.**  

---

### WAN

WAN은 광역 네트워크를 의미하며 **국가 또는 대륙 같은 더 넓은 지역**에서 운영된다.
**전송 속도는 낮으며 MAN보다 더 혼잡하다.**

---

### 혼잡도

**LAN < MAN < WAN** 순으로 혼잡하다.  

![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#네트워크-기초)

<!---목차 5--->
## 네트워크 성능 분석 명령어

애플리케이션 코드상에 문제 없는데 데이터를 못가져오는 현상이 일어날 수 있다.  
네트워크 병목 현상일 가능성이 있다.  
병목 주된 원인은 다음과 같다.  

* 네트워크 대역폭
* 네트워크 토폴로지
* 서버 CPU, 메모리 사용량 
* 비효율적인 네트워크 구성

이때 네트워크와 무관한건지 관련이 있는건지 테스트를 통해  
'**네트워크로부터 발생한 문제점**'인 것을 확인 후 **네트워크 성능 분석**을 해야한다.   
이때 사용되는 명령어들을 알아보자



### ping

ping(Packet INternet Groper)은 **네트워크 상태를 확인**하려는 **대상 노드를 향해 일정 크기의 패킷을 전송**한다.  
ping을 통해 패킷 수신 상태와 도달까지의 시간, 노드까지 네트워크가 잘 연결되어있는지 확인할 수 있다.  
TCP/IP 프로토콜 중에 **ICMP 프로토콜**을 통해 작동하며, ICMP를 차단하는 경우 ping 테스팅이 불가능하다.  
**ping[IP 주소 또는 도메인 주소]** 로 실행

![1 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/e6d3ef81-c648-4e01-a083-53f9b22a2d74)

---

### netstat

netstat은 **접속되어 있는 서비스들의 네트워크 상태를 표시**하는데 사용된다.  
네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트를 보여준다.  

![077_2 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/b1daca10-be1b-4f16-94a2-6b0d482012f6)

---

### nslookup

nslookup은 **DNS에 관련된 내용을 확인**하기 위해 쓰는 명령어이다.  
특정 도메인에 매핑된 IP를 확인한다.  

![078_1 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/d8c593ed-8c6c-481d-96c4-26fc6e898673)

---

### tracert

목저지 노드까지 **네트워크 경로 확인**할 때 사용되며 목적지 노드까지 구간들 중에서 **어느 구간에서 느려지는지 확인**이 가능하다.  
윈도우에서는 tracert 이고 리눅스에서는 traceroute이다.

![078_2 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/70975f8d-1aba-4bd7-a935-57e0984e4ce6)

![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#네트워크-기초)

<!---목차 6--->
## 네트워크 프로토콜 표준화

네트워크 프로토콜이란 **다른 장치들끼리 데이터를 주고 받기 위해 설정된 공통된 인터페이스**이다.  
개인에서 정한것이 아닌 IEEE 또는 IETF라는 표준화 단체가 이를 정한다.  
**'서로 약속된'** 인터페이스인 HTTP라는 프로토콜로 데이터를 주고받을 수 있다.

![079 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/1e6aba94-3c28-472f-9673-b89233fda3c4)

![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#네트워크-기초)
