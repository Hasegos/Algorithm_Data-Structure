<!---완료--->
# 운영체제 기초

* [운영체제 정리 이동](https://github.com/Hasegos/backendStudy/tree/master/Computer%20Science/Operating%20System)

* 목차
    * [1. 운영체제란](#운영체제란)
    * [2. 프로세스와 스레드](#프로세스와-스레드)
    * [3. 콘텍스트 스위칭](#콘텍스트-스위칭)
    * [4. 공유 자원과 동기화 문제](#공유-자원과-동기화-문제)
    
<!---목차 1--->
## 운영체제란

윈도우(Windows), 맥OS(maxOS), 리눅스(Linux)와 같은 프로그램을 **운영체제(OS, Operating System)** 라고 한다.  
**운영체제**는 사용자와 컴퓨터 사이에서 **인터페이스를 제공**하고, **관리 및 분배**하는 역할을 한다.  
주요 기능으로는 **프로세스 관리, 메모리 관리, 파일 시스템 관리, 네트워크 관리**이다.  

![1 (1) (1)](https://github.com/Hasegos/Study_CS/assets/93961708/803784af-151e-4401-8032-eed14f66a716)

![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#운영체제-기초)

<!---목차 2--->
## 프로세스와 스레드

### 프로세스란

**프로세스(process)** 란 **컴퓨터에서 현재 실행 중인 프로그램**을 말한다.  
평소에는 보조 기억 장치인 **디스크**에 저장되어있다.  
사용자가 실행하면 디스크에 있던 프로그램이 **메모리(Ram)에 올라온다.**  
이를 **"로드"** 된다고 한다. 메모리에 저장된 명령어가 **CPU를 차지**함으로써 실행할 수 있게된다.

![1 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/12dc2635-ff72-4fdb-a387-edad479f6b09)

여기서 저장장치는 보조 기억 장치인 디스크이다.  
주목해야할 점은 프로그램은 하나이지만 프로세스를 여러개 띄울 수 있습니다.     
  
예를들어 크롬이라는 프로그램은 하나지만 여러개의 창을 띄울 수 있는 것처럼이다.  
이는 프로그램이 메모리에 여러 번 올라와 **여러개의 프로세스**로 존재할 수 있다.

---
### 스레드란

**스레드(thread)** 는 **프로세스 내에서 작업을 처리하는 실행 단위**로, 프로세스가 할당받은 자원(CPU, 메모리등)을 이용해 작업처리한다.  
프로세스는 **최소 하나 이상의 스레드**를 가지며 이를 **메인 스레드(main thread)** 라고한다.  
각각의 프로세스는 **코드 영역, 데이터 영역, 힙 영역, 스택 영역**으로 나누어 저장한다.  
![1 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/f87c601b-62c2-418b-b204-702551f79a8d)

### **스레드가 여러개 존재**
만약 프로세스 내에 여러 스레드가 존재한다면 각 스레드는 **스택 영역만 따로 할당받고 나머지는 영역을 공유**한다.  
<img width="540" alt="1 (1)" src="https://github.com/Hasegos/Study_CS/assets/93961708/d6550e02-8e17-45c9-bace-6f4ac9e0a500">    

#     
이처럼 **하나의 프로세스를 여러개의 스레드를 구성하고 둘 이상의 스레드가 동시에 처리하는 방식**을 **멀티스레드(multi-thread)** 라고 한다.  
멀티 스레드는 작업을 분할해 동시에 처리함으로써 **성능을 향상하고 자원을 효율적으로 관리**한다.  
하지만 여러 스레드가 자원을 공유하기에 **동기화 등의 문제가 발생**할 수 있다.

![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#운영체제-기초)

<!---목차 3--->
## 콘텍스트 스위칭

컴퓨터에서 동시에 처리할 수 있는 최대 작업 수는 **CPU의 코어(core)수** 와 같다.  

![2 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/9718e554-7ded-4674-9633-a4b43f05c35e)

하지만 실제로는 CPU의 코어 수보다 더 많은 작업을 합니다.  
이는 **콘텍스트 스위칭(context switching)** 에 있습니다.  
컴퓨터는 정해진 시간내에 처리해야하기에 작업을 번갈아 가면서 하는데 **작업이 동시에 실행되는 것처럼** 느낀다.  
이를 **멀티태스킹(multi-tasking)** 이라고 한다.  
콘텍스트 스위칭이 일어나면 **프로세스나 스레드가 번갈아가며 CUP를 할당받아 실행**된다.  

![1 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/6f54414b-db29-428a-9a12-f079c7c235cf)

![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#운영체제-기초)

<!---목차 4--->
## 공유 자원과 동기화 문제

앞에서 프로세스 내에 여러 스레드가 존재할 시 **코드영역, 데이터 영역, 힙 영역** 을 공유 한다고했다.  
프로세스의 변수나 메모리 등의 자원을 함께 사용하기 때문에 **공유 자원(shared resource) 문제**가 발생하기도 합니다.  
대표적으로 **경쟁 조건(race condition)** 을 들 수 있다.  

예를들어 A와 B라는 사람이 K라는 계좌에 동시에 10,000원을 송금했다면 20,000원이 되어야한다.  
그런데 경쟁 조건이 발생하면 10,000원만 입금될 수 있다.  
하나의 자원에 **둘 이상의 작업이 동시에 이뤄져 예측할 수 없는 결과**가 나타난다.  

![2 (1) (1)](https://github.com/Hasegos/Study_CS/assets/93961708/1321d0d3-6df1-4e5a-999f-c3c2f878c8af)

이처럼 경쟁 조건이 발생할 수 있는 코드상의 특정 부분을 **임계 영역(critical section)** 이라고 한다.    
임계 영역에서 경쟁 조건이 발생하지 않으려면 세 가지 조건을 만족해야한다.  

+ **상호 배제(mutual exclusive)** : 하나의 스레드가 임계 영역에서 실행 중일 때는 **다른 스레드**가 
    **임계 영역에 들어갈 수 없습니다.**
+ **진행(progress)** : 임계 영역에서 실행 중인 **스레드가 없을 때**만 다른 스레드가 **임계 영역에  
    들어갈 수 있습니다.**
+ **한정 대기(bounded waiting)** : 특정 스레드가 **임계 영역을 무한히 기다리지 않습니다.** 어떤 
    스레드이든 유한 시간이 지나면 임계 영역에 들어갈 수 있습니다.


![arrow_up_circle_icon_128946 (1)](https://github.com/Hasegos/Study_CS/assets/93961708/56bc983f-ea61-48fc-b733-fb8118b3aad5)[목차로 돌아가기](#운영체제-기초)